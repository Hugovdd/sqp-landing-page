---
import BaseHead from '@/components/BaseHead.astro';
import { Footer } from '@/components/blocks/footer';
import { Navbar } from '@/components/blocks/navbar';

interface Props {
  title?: string;
  description?: string;
  ogImage?: string;
  keywords?: string;
  noIndex?: boolean;
  type?: string;
}

const { title, description, ogImage, keywords, noIndex, type } = Astro.props;
---

<html lang="en">
  <head>
    <BaseHead
      title={title}
      description={description}
      ogImage={ogImage}
      keywords={keywords}
      noIndex={noIndex}
      type={type}
    >
      <slot name="head" slot="head" />
    </BaseHead>
  </head>
  <body class="h-screen antialiased">
    <Navbar client:only="react" />
    <main><slot /></main>
    <Footer />
    <script>
      const lsScript = document.createElement("script");
      lsScript.src = "https://assets.lemonsqueezy.com/lemon.js";
      lsScript.onload = () => {
        if (typeof (window as any).createLemonSqueezy === "function") {
          (window as any).createLemonSqueezy();
        }
      };
      document.head.appendChild(lsScript);
    </script>
  </body>
</html>
